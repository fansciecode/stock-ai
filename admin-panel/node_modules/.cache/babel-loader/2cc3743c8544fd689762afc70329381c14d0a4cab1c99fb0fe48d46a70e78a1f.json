{"ast":null,"code":"import React from'react';import{Navigate,useLocation}from'react-router-dom';import{CircularProgress,Box}from'@mui/material';import{useAuth}from'../../contexts/AuthContext';import{jsx as _jsx}from\"react/jsx-runtime\";function ProtectedRoute(_ref){let{children,requiredPermissions=[],requiredRoles=[]}=_ref;const{user,loading,isAuthenticated,hasPermission,hasRole}=useAuth();const location=useLocation();if(loading){return/*#__PURE__*/_jsx(Box,{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",minHeight:\"100vh\",children:/*#__PURE__*/_jsx(CircularProgress,{})});}if(!isAuthenticated()){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\",state:{from:location},replace:true});}// Check permissions if specified\nif(requiredPermissions.length>0&&!requiredPermissions.some(permission=>hasPermission(permission))){return/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true});}// Check roles if specified\nif(requiredRoles.length>0&&!requiredRoles.some(role=>hasRole(role))){return/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true});}return children;}export default ProtectedRoute;","map":{"version":3,"names":["React","Navigate","useLocation","CircularProgress","Box","useAuth","jsx","_jsx","ProtectedRoute","_ref","children","requiredPermissions","requiredRoles","user","loading","isAuthenticated","hasPermission","hasRole","location","display","justifyContent","alignItems","minHeight","to","state","from","replace","length","some","permission","role"],"sources":["/Users/kirannaik/Desktop/zed/Android-fullstack-ibcm/admin-panel/src/components/Auth/ProtectedRoute.js"],"sourcesContent":["import React from 'react';\nimport { Navigate, useLocation } from 'react-router-dom';\nimport { CircularProgress, Box } from '@mui/material';\nimport { useAuth } from '../../contexts/AuthContext';\n\nfunction ProtectedRoute({ children, requiredPermissions = [], requiredRoles = [] }) {\n  const { user, loading, isAuthenticated, hasPermission, hasRole } = useAuth();\n  const location = useLocation();\n\n  if (loading) {\n    return (\n      <Box\n        display=\"flex\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        minHeight=\"100vh\"\n      >\n        <CircularProgress />\n      </Box>\n    );\n  }\n\n  if (!isAuthenticated()) {\n    return <Navigate to=\"/login\" state={{ from: location }} replace />;\n  }\n\n  // Check permissions if specified\n  if (requiredPermissions.length > 0 && !requiredPermissions.some(permission => hasPermission(permission))) {\n    return <Navigate to=\"/\" replace />;\n  }\n\n  // Check roles if specified\n  if (requiredRoles.length > 0 && !requiredRoles.some(role => hasRole(role))) {\n    return <Navigate to=\"/\" replace />;\n  }\n\n  return children;\n}\n\nexport default ProtectedRoute; "],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,CAAEC,WAAW,KAAQ,kBAAkB,CACxD,OAASC,gBAAgB,CAAEC,GAAG,KAAQ,eAAe,CACrD,OAASC,OAAO,KAAQ,4BAA4B,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAErD,QAAS,CAAAC,cAAcA,CAAAC,IAAA,CAA6D,IAA5D,CAAEC,QAAQ,CAAEC,mBAAmB,CAAG,EAAE,CAAEC,aAAa,CAAG,EAAG,CAAC,CAAAH,IAAA,CAChF,KAAM,CAAEI,IAAI,CAAEC,OAAO,CAAEC,eAAe,CAAEC,aAAa,CAAEC,OAAQ,CAAC,CAAGZ,OAAO,CAAC,CAAC,CAC5E,KAAM,CAAAa,QAAQ,CAAGhB,WAAW,CAAC,CAAC,CAE9B,GAAIY,OAAO,CAAE,CACX,mBACEP,IAAA,CAACH,GAAG,EACFe,OAAO,CAAC,MAAM,CACdC,cAAc,CAAC,QAAQ,CACvBC,UAAU,CAAC,QAAQ,CACnBC,SAAS,CAAC,OAAO,CAAAZ,QAAA,cAEjBH,IAAA,CAACJ,gBAAgB,GAAE,CAAC,CACjB,CAAC,CAEV,CAEA,GAAI,CAACY,eAAe,CAAC,CAAC,CAAE,CACtB,mBAAOR,IAAA,CAACN,QAAQ,EAACsB,EAAE,CAAC,QAAQ,CAACC,KAAK,CAAE,CAAEC,IAAI,CAAEP,QAAS,CAAE,CAACQ,OAAO,MAAE,CAAC,CACpE,CAEA;AACA,GAAIf,mBAAmB,CAACgB,MAAM,CAAG,CAAC,EAAI,CAAChB,mBAAmB,CAACiB,IAAI,CAACC,UAAU,EAAIb,aAAa,CAACa,UAAU,CAAC,CAAC,CAAE,CACxG,mBAAOtB,IAAA,CAACN,QAAQ,EAACsB,EAAE,CAAC,GAAG,CAACG,OAAO,MAAE,CAAC,CACpC,CAEA;AACA,GAAId,aAAa,CAACe,MAAM,CAAG,CAAC,EAAI,CAACf,aAAa,CAACgB,IAAI,CAACE,IAAI,EAAIb,OAAO,CAACa,IAAI,CAAC,CAAC,CAAE,CAC1E,mBAAOvB,IAAA,CAACN,QAAQ,EAACsB,EAAE,CAAC,GAAG,CAACG,OAAO,MAAE,CAAC,CACpC,CAEA,MAAO,CAAAhB,QAAQ,CACjB,CAEA,cAAe,CAAAF,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}