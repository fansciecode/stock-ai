{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Row,Col,Card,Typography,Input,Select,Button,List,Avatar,Tag,Space,Skeleton,Empty,Pagination,DatePicker,Slider,Checkbox,Divider,Rate,Badge}from'antd';import{SearchOutlined,FilterOutlined,CalendarOutlined,EnvironmentOutlined,UserOutlined,DollarOutlined,StarOutlined,HeartOutlined,ShareAltOutlined,EyeOutlined}from'@ant-design/icons';import{useNavigate}from'react-router-dom';import{useAuth}from'../../contexts/AuthContext';import{useNotification}from'../../contexts/NotificationContext';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const{Title,Text,Paragraph}=Typography;const{Option}=Select;const{Search}=Input;const{RangePicker}=DatePicker;const EventBrowseScreen=()=>{const[loading,setLoading]=useState(true);const[events,setEvents]=useState([]);const[filteredEvents,setFilteredEvents]=useState([]);const[searchQuery,setSearchQuery]=useState('');const[categoryFilter,setCategoryFilter]=useState('all');const[priceRange,setPriceRange]=useState([0,1000]);const[locationFilter,setLocationFilter]=useState('');const[sortBy,setSortBy]=useState('date');const[currentPage,setCurrentPage]=useState(1);const[pageSize]=useState(12);const[showFilters,setShowFilters]=useState(false);const{user}=useAuth();const{showSuccess,showError}=useNotification();const navigate=useNavigate();const categories=['all','corporate','wedding','birthday','conference','workshop','party','concert','sports','charity','networking','other'];useEffect(()=>{fetchEvents();},[]);useEffect(()=>{filterEvents();},[events,searchQuery,categoryFilter,priceRange,locationFilter,sortBy]);const fetchEvents=async()=>{try{setLoading(true);// Simulate API call\nsetTimeout(()=>{const mockEvents=[{id:'1',title:'Annual Tech Conference 2024',description:'Join us for the biggest tech conference of the year with industry leaders and innovators.',category:'conference',price:150,location:'San Francisco, CA',date:'2024-03-15',time:'09:00',organizer:'Tech Events Inc.',attendees:500,rating:4.8,image:'/api/placeholder/300/200',tags:['technology','networking','innovation'],featured:true},{id:'2',title:'Wedding Photography Workshop',description:'Learn professional wedding photography techniques from award-winning photographers.',category:'workshop',price:75,location:'New York, NY',date:'2024-03-20',time:'10:00',organizer:'Photo Masters',attendees:25,rating:4.9,image:'/api/placeholder/300/200',tags:['photography','wedding','education'],featured:false},{id:'3',title:'Corporate Team Building Event',description:'Strengthen your team bonds with our engaging team building activities and challenges.',category:'corporate',price:200,location:'Los Angeles, CA',date:'2024-03-25',time:'14:00',organizer:'Team Dynamics LLC',attendees:100,rating:4.6,image:'/api/placeholder/300/200',tags:['teambuilding','corporate','activities'],featured:true},{id:'4',title:'Birthday Party Planning Service',description:'Complete birthday party planning with decorations, entertainment, and catering.',category:'birthday',price:300,location:'Chicago, IL',date:'2024-04-01',time:'16:00',organizer:'Party Perfect',attendees:50,rating:4.7,image:'/api/placeholder/300/200',tags:['birthday','party','celebration'],featured:false},{id:'5',title:'Music Concert Under the Stars',description:'Enjoy an evening of live music performances under the beautiful night sky.',category:'concert',price:45,location:'Austin, TX',date:'2024-04-05',time:'19:00',organizer:'Starlight Events',attendees:300,rating:4.5,image:'/api/placeholder/300/200',tags:['music','concert','outdoor'],featured:true},{id:'6',title:'Charity Fundraising Gala',description:'An elegant evening to support local children\\'s education with dinner and auction.',category:'charity',price:100,location:'Miami, FL',date:'2024-04-10',time:'18:00',organizer:'Hope Foundation',attendees:200,rating:4.8,image:'/api/placeholder/300/200',tags:['charity','fundraising','education'],featured:false}];setEvents(mockEvents);setLoading(false);},1000);}catch(error){showError('Failed to load events');setLoading(false);}};const filterEvents=()=>{let filtered=[...events];// Search filter\nif(searchQuery){filtered=filtered.filter(event=>event.title.toLowerCase().includes(searchQuery.toLowerCase())||event.description.toLowerCase().includes(searchQuery.toLowerCase())||event.tags.some(tag=>tag.toLowerCase().includes(searchQuery.toLowerCase())));}// Category filter\nif(categoryFilter!=='all'){filtered=filtered.filter(event=>event.category===categoryFilter);}// Price filter\nfiltered=filtered.filter(event=>event.price>=priceRange[0]&&event.price<=priceRange[1]);// Location filter\nif(locationFilter){filtered=filtered.filter(event=>event.location.toLowerCase().includes(locationFilter.toLowerCase()));}// Sort\nfiltered.sort((a,b)=>{switch(sortBy){case'date':return new Date(a.date)-new Date(b.date);case'price':return a.price-b.price;case'rating':return b.rating-a.rating;case'popularity':return b.attendees-a.attendees;default:return 0;}});setFilteredEvents(filtered);};const handleEventClick=eventId=>{navigate(`/events/${eventId}`);};const handleBookEvent=eventId=>{navigate(`/events/${eventId}/book`);};const formatPrice=price=>{return price===0?'Free':`$${price}`;};const formatDate=date=>{return new Date(date).toLocaleDateString('en-US',{weekday:'short',year:'numeric',month:'short',day:'numeric'});};const paginatedEvents=filteredEvents.slice((currentPage-1)*pageSize,currentPage*pageSize);if(loading){return/*#__PURE__*/_jsx(\"div\",{style:{padding:24},children:/*#__PURE__*/_jsx(Row,{gutter:[16,16],children:[...Array(6)].map((_,index)=>/*#__PURE__*/_jsx(Col,{xs:24,sm:12,lg:8,children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Skeleton.Image,{style:{width:'100%',height:200}}),/*#__PURE__*/_jsx(Skeleton,{active:true,paragraph:{rows:3}})]})},index))})});}return/*#__PURE__*/_jsxs(\"div\",{style:{padding:24,background:'#f5f5f5',minHeight:'100vh'},children:[/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:24},children:/*#__PURE__*/_jsxs(Row,{justify:\"space-between\",align:\"middle\",children:[/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(Title,{level:2,style:{margin:0},children:\"Browse Events\"}),/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:\"Discover amazing events happening near you\"})]}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Button,{type:\"primary\",icon:/*#__PURE__*/_jsx(CalendarOutlined,{}),onClick:()=>navigate('/events/create'),children:\"Create Event\"})})]})}),/*#__PURE__*/_jsxs(Card,{style:{marginBottom:24},children:[/*#__PURE__*/_jsxs(Row,{gutter:[16,16],align:\"middle\",children:[/*#__PURE__*/_jsx(Col,{xs:24,md:8,children:/*#__PURE__*/_jsx(Search,{placeholder:\"Search events...\",allowClear:true,value:searchQuery,onChange:e=>setSearchQuery(e.target.value),onSearch:setSearchQuery,size:\"large\"})}),/*#__PURE__*/_jsx(Col,{xs:24,md:4,children:/*#__PURE__*/_jsx(Select,{value:categoryFilter,onChange:setCategoryFilter,style:{width:'100%'},size:\"large\",children:categories.map(category=>/*#__PURE__*/_jsx(Option,{value:category,children:category.charAt(0).toUpperCase()+category.slice(1)},category))})}),/*#__PURE__*/_jsx(Col,{xs:24,md:4,children:/*#__PURE__*/_jsxs(Select,{value:sortBy,onChange:setSortBy,style:{width:'100%'},size:\"large\",children:[/*#__PURE__*/_jsx(Option,{value:\"date\",children:\"Sort by Date\"}),/*#__PURE__*/_jsx(Option,{value:\"price\",children:\"Sort by Price\"}),/*#__PURE__*/_jsx(Option,{value:\"rating\",children:\"Sort by Rating\"}),/*#__PURE__*/_jsx(Option,{value:\"popularity\",children:\"Sort by Popularity\"})]})}),/*#__PURE__*/_jsx(Col,{xs:24,md:8,children:/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Button,{icon:/*#__PURE__*/_jsx(FilterOutlined,{}),onClick:()=>setShowFilters(!showFilters),children:\"Advanced Filters\"}),/*#__PURE__*/_jsxs(Text,{type:\"secondary\",children:[filteredEvents.length,\" events found\"]})]})})]}),showFilters&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(Row,{gutter:[16,16],children:[/*#__PURE__*/_jsxs(Col,{xs:24,md:8,children:[/*#__PURE__*/_jsxs(Text,{strong:true,children:[\"Price Range: $\",priceRange[0],\" - $\",priceRange[1]]}),/*#__PURE__*/_jsx(Slider,{range:true,min:0,max:1000,value:priceRange,onChange:setPriceRange,style:{marginTop:8}})]}),/*#__PURE__*/_jsx(Col,{xs:24,md:8,children:/*#__PURE__*/_jsx(Input,{placeholder:\"Filter by location...\",value:locationFilter,onChange:e=>setLocationFilter(e.target.value),prefix:/*#__PURE__*/_jsx(EnvironmentOutlined,{})})}),/*#__PURE__*/_jsx(Col,{xs:24,md:8,children:/*#__PURE__*/_jsx(Space,{children:/*#__PURE__*/_jsx(Button,{onClick:()=>{setSearchQuery('');setCategoryFilter('all');setPriceRange([0,1000]);setLocationFilter('');setSortBy('date');},children:\"Clear Filters\"})})})]})]})]}),filteredEvents.length===0?/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Empty,{description:\"No events found matching your criteria\",image:Empty.PRESENTED_IMAGE_SIMPLE,children:/*#__PURE__*/_jsx(Button,{type:\"primary\",onClick:()=>navigate('/events/create'),children:\"Create First Event\"})})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Row,{gutter:[16,16],children:paginatedEvents.map(event=>/*#__PURE__*/_jsx(Col,{xs:24,sm:12,lg:8,children:/*#__PURE__*/_jsx(Badge.Ribbon,{text:\"Featured\",color:\"gold\",style:{display:event.featured?'block':'none'},children:/*#__PURE__*/_jsx(Card,{hoverable:true,cover:/*#__PURE__*/_jsx(\"div\",{style:{height:200,background:'#f0f0f0',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:\"Event Image\"})}),actions:[/*#__PURE__*/_jsx(Button,{type:\"link\",icon:/*#__PURE__*/_jsx(EyeOutlined,{}),onClick:()=>handleEventClick(event.id),children:\"View Details\"}),/*#__PURE__*/_jsx(Button,{type:\"primary\",onClick:()=>handleBookEvent(event.id),children:\"Book Now\"})],children:/*#__PURE__*/_jsx(Card.Meta,{title:/*#__PURE__*/_jsxs(Space,{direction:\"vertical\",size:4,style:{width:'100%'},children:[/*#__PURE__*/_jsx(Text,{strong:true,ellipsis:{tooltip:event.title},children:event.title}),/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Tag,{color:\"blue\",children:event.category}),/*#__PURE__*/_jsx(Text,{strong:true,style:{color:'#52c41a'},children:formatPrice(event.price)})]})]}),description:/*#__PURE__*/_jsxs(Space,{direction:\"vertical\",size:8,style:{width:'100%'},children:[/*#__PURE__*/_jsx(Paragraph,{ellipsis:{rows:2,tooltip:event.description},children:event.description}),/*#__PURE__*/_jsxs(Space,{direction:\"vertical\",size:4,style:{width:'100%'},children:[/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(CalendarOutlined,{}),/*#__PURE__*/_jsxs(Text,{children:[formatDate(event.date),\" at \",event.time]})]}),/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(EnvironmentOutlined,{}),/*#__PURE__*/_jsx(Text,{children:event.location})]}),/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(UserOutlined,{}),/*#__PURE__*/_jsxs(Text,{children:[event.attendees,\" attendees\"]})]}),/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(StarOutlined,{}),/*#__PURE__*/_jsx(Rate,{disabled:true,defaultValue:event.rating,size:\"small\"}),/*#__PURE__*/_jsxs(Text,{children:[\"(\",event.rating,\")\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{children:event.tags.map(tag=>/*#__PURE__*/_jsx(Tag,{size:\"small\",style:{marginBottom:4},children:tag},tag))})]})})})})},event.id))}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',marginTop:32},children:/*#__PURE__*/_jsx(Pagination,{current:currentPage,pageSize:pageSize,total:filteredEvents.length,onChange:setCurrentPage,showSizeChanger:false,showQuickJumper:true,showTotal:(total,range)=>`${range[0]}-${range[1]} of ${total} events`})})]})]});};export default EventBrowseScreen;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}