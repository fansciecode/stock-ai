{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Row,Col,Card,Typography,Input,Button,List,Space,Avatar,Tag,Skeleton,Empty,Alert,AutoComplete}from'antd';import{SearchOutlined,EnvironmentOutlined,CheckOutlined,ArrowLeftOutlined,GlobalOutlined,HomeOutlined,ShopOutlined,BankOutlined}from'@ant-design/icons';import{useNavigate,useLocation}from'react-router-dom';import{useNotification}from'../../contexts/NotificationContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const{Title,Text}=Typography;const{Search}=Input;const LocationPickerScreen=()=>{const[loading,setLoading]=useState(false);const[searchQuery,setSearchQuery]=useState('');const[searchResults,setSearchResults]=useState([]);const[selectedLocation,setSelectedLocation]=useState(null);const[recentLocations,setRecentLocations]=useState([]);const[popularLocations,setPopularLocations]=useState([]);const{showSuccess,showError}=useNotification();const navigate=useNavigate();const location=useLocation();useEffect(()=>{loadPopularLocations();loadRecentLocations();},[]);const loadPopularLocations=()=>{const mockPopular=[{id:'1',name:'San Francisco Convention Center',address:'747 Howard St, San Francisco, CA 94103',type:'Convention Center',capacity:5000,amenities:['WiFi','Parking','Catering'],rating:4.5},{id:'2',name:'Central Park',address:'New York, NY 10024',type:'Park',capacity:10000,amenities:['Outdoor','Scenic Views','Photography'],rating:4.8},{id:'3',name:'Chicago Theatre',address:'175 N State St, Chicago, IL 60601',type:'Theatre',capacity:3600,amenities:['Stage','Sound System','Historic'],rating:4.7},{id:'4',name:'Austin Convention Center',address:'500 E Cesar Chavez St, Austin, TX 78701',type:'Convention Center',capacity:8000,amenities:['WiFi','Parking','Multiple Halls'],rating:4.4}];setPopularLocations(mockPopular);};const loadRecentLocations=()=>{const saved=localStorage.getItem('recentLocations');if(saved){setRecentLocations(JSON.parse(saved));}};const handleSearch=async value=>{if(!value.trim()){setSearchResults([]);return;}setLoading(true);setSearchQuery(value);// Simulate API call to location service\nsetTimeout(()=>{const mockResults=[{id:`search-1-${value}`,name:`${value} Convention Center`,address:`123 Main St, ${value}, CA 90210`,type:'Convention Center',capacity:2000,amenities:['WiFi','Parking'],rating:4.2},{id:`search-2-${value}`,name:`${value} Community Hall`,address:`456 Oak Ave, ${value}, CA 90211`,type:'Community Hall',capacity:500,amenities:['Tables','Chairs'],rating:4.0},{id:`search-3-${value}`,name:`${value} Hotel Ballroom`,address:`789 Hotel Blvd, ${value}, CA 90212`,type:'Hotel',capacity:300,amenities:['Catering','A/V Equipment'],rating:4.6}];setSearchResults(mockResults);setLoading(false);},800);};const handleLocationSelect=locationData=>{setSelectedLocation(locationData);// Save to recent locations\nconst recent=[locationData,...recentLocations.filter(l=>l.id!==locationData.id)].slice(0,5);setRecentLocations(recent);localStorage.setItem('recentLocations',JSON.stringify(recent));showSuccess('Location selected successfully');};const handleConfirmLocation=()=>{var _location$state;if(!selectedLocation){showError('Please select a location first');return;}// Pass location data back to the calling screen\nconst returnTo=((_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.returnTo)||'/events/create';navigate(returnTo,{state:{selectedLocation}});};const getLocationIcon=type=>{switch(type.toLowerCase()){case'convention center':return/*#__PURE__*/_jsx(BankOutlined,{style:{color:'#1890ff'}});case'park':return/*#__PURE__*/_jsx(GlobalOutlined,{style:{color:'#52c41a'}});case'theatre':return/*#__PURE__*/_jsx(HomeOutlined,{style:{color:'#722ed1'}});case'hotel':return/*#__PURE__*/_jsx(ShopOutlined,{style:{color:'#fa8c16'}});default:return/*#__PURE__*/_jsx(EnvironmentOutlined,{style:{color:'#999'}});}};const LocationItem=_ref=>{let{location,isSelected,onSelect}=_ref;return/*#__PURE__*/_jsx(List.Item,{style:{padding:16,border:isSelected?'2px solid #1890ff':'1px solid #f0f0f0',borderRadius:8,marginBottom:8,cursor:'pointer',background:isSelected?'#f6ffed':'white'},onClick:()=>onSelect(location),children:/*#__PURE__*/_jsx(List.Item.Meta,{avatar:getLocationIcon(location.type),title:/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Text,{strong:true,children:location.name}),isSelected&&/*#__PURE__*/_jsx(CheckOutlined,{style:{color:'#52c41a'}})]}),description:/*#__PURE__*/_jsxs(Space,{direction:\"vertical\",size:4,style:{width:'100%'},children:[/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:location.address}),/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Tag,{color:\"blue\",children:location.type}),/*#__PURE__*/_jsxs(Text,{type:\"secondary\",children:[\"Capacity: \",location.capacity.toLocaleString()]}),/*#__PURE__*/_jsxs(Text,{type:\"secondary\",children:[\"\\u2605 \",location.rating]})]}),/*#__PURE__*/_jsx(\"div\",{children:location.amenities.map(amenity=>/*#__PURE__*/_jsx(Tag,{size:\"small\",children:amenity},amenity))})]})})});};return/*#__PURE__*/_jsx(\"div\",{style:{padding:24,background:'#f5f5f5',minHeight:'100vh'},children:/*#__PURE__*/_jsx(Row,{justify:\"center\",children:/*#__PURE__*/_jsxs(Col,{xs:24,lg:16,xl:12,children:[/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:24},children:/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Button,{icon:/*#__PURE__*/_jsx(ArrowLeftOutlined,{}),onClick:()=>navigate(-1),children:\"Back\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Title,{level:2,style:{margin:0},children:\"Choose Location\"}),/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:\"Select the perfect venue for your event\"})]})]})}),/*#__PURE__*/_jsxs(Card,{style:{marginBottom:24},children:[/*#__PURE__*/_jsx(Search,{placeholder:\"Search for venues, addresses, or landmarks...\",allowClear:true,size:\"large\",onSearch:handleSearch,loading:loading,style:{marginBottom:16}}),searchQuery&&/*#__PURE__*/_jsxs(Text,{type:\"secondary\",children:[\"Search results for \\\"\",searchQuery,\"\\\"\"]})]}),searchResults.length>0&&/*#__PURE__*/_jsx(Card,{title:\"Search Results\",style:{marginBottom:24},children:searchResults.map(location=>/*#__PURE__*/_jsx(LocationItem,{location:location,isSelected:(selectedLocation===null||selectedLocation===void 0?void 0:selectedLocation.id)===location.id,onSelect:handleLocationSelect},location.id))}),recentLocations.length>0&&/*#__PURE__*/_jsx(Card,{title:\"Recent Locations\",style:{marginBottom:24},children:recentLocations.map(location=>/*#__PURE__*/_jsx(LocationItem,{location:location,isSelected:(selectedLocation===null||selectedLocation===void 0?void 0:selectedLocation.id)===location.id,onSelect:handleLocationSelect},location.id))}),/*#__PURE__*/_jsx(Card,{title:\"Popular Venues\",style:{marginBottom:24},children:popularLocations.map(location=>/*#__PURE__*/_jsx(LocationItem,{location:location,isSelected:(selectedLocation===null||selectedLocation===void 0?void 0:selectedLocation.id)===location.id,onSelect:handleLocationSelect},location.id))}),selectedLocation&&/*#__PURE__*/_jsx(Card,{title:\"Selected Location\",style:{marginBottom:24},extra:/*#__PURE__*/_jsx(Button,{type:\"primary\",icon:/*#__PURE__*/_jsx(CheckOutlined,{}),onClick:handleConfirmLocation,children:\"Confirm Location\"}),children:/*#__PURE__*/_jsxs(Space,{direction:\"vertical\",style:{width:'100%'},children:[/*#__PURE__*/_jsx(Text,{strong:true,style:{fontSize:16},children:selectedLocation.name}),/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:selectedLocation.address}),/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Tag,{color:\"blue\",children:selectedLocation.type}),/*#__PURE__*/_jsxs(Text,{children:[\"Capacity: \",selectedLocation.capacity.toLocaleString()]}),/*#__PURE__*/_jsxs(Text,{children:[\"Rating: \\u2605 \",selectedLocation.rating]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"Amenities: \"}),selectedLocation.amenities.map(amenity=>/*#__PURE__*/_jsx(Tag,{size:\"small\",children:amenity},amenity))]})]})}),/*#__PURE__*/_jsx(Alert,{message:\"Location Tips\",description:\"Choose a venue that matches your event size and requirements. Consider parking availability, public transportation access, and necessary amenities.\",type:\"info\",showIcon:true,style:{marginBottom:24}}),/*#__PURE__*/_jsxs(Card,{title:\"Can't find your venue?\",children:[/*#__PURE__*/_jsx(Text,{type:\"secondary\",style:{display:'block',marginBottom:16},children:\"Enter the location details manually if your venue isn't listed above.\"}),/*#__PURE__*/_jsx(Button,{type:\"dashed\",block:true,size:\"large\",onClick:()=>{const manualLocation={id:'manual-entry',name:'Custom Location',address:searchQuery||'Enter address manually',type:'Custom',capacity:0,amenities:[],rating:0};handleLocationSelect(manualLocation);},children:\"Enter Location Manually\"})]})]})})});};export default LocationPickerScreen;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}