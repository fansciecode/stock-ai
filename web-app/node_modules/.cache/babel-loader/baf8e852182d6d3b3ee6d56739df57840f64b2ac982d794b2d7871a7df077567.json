{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams}from'react-router-dom';import{Layout,Typography,Card,Row,Col,Statistic,Spin,Tabs,Table,Progress}from'antd';import{UserOutlined,TeamOutlined,DollarOutlined,CalendarOutlined,RiseOutlined,LineChartOutlined,PieChartOutlined,BarChartOutlined}from'@ant-design/icons';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const{Content}=Layout;const{Title,Text}=Typography;const{TabPane}=Tabs;const EventAnalytics=()=>{const{eventId}=useParams();const[loading,setLoading]=useState(true);const[eventData,setEventData]=useState(null);const[analyticsData,setAnalyticsData]=useState(null);useEffect(()=>{// Mock data for demonstration\nsetTimeout(()=>{const mockEventData={id:eventId,title:'Tech Conference 2023',date:'2023-12-15',location:'San Francisco, CA',organizer:'IBCM Events'};const mockAnalyticsData={totalRegistrations:256,totalAttendees:218,totalRevenue:12840,averageRating:4.7,registrationsByDay:[{date:'2023-10-01',count:15},{date:'2023-10-02',count:22},{date:'2023-10-03',count:18},{date:'2023-10-04',count:25},{date:'2023-10-05',count:30}],attendeesByCategory:[{category:'Professional',count:120},{category:'Student',count:75},{category:'Early Bird',count:45},{category:'VIP',count:16}],ticketSalesByType:[{type:'General Admission',count:150,revenue:7500},{type:'VIP',count:50,revenue:3750},{type:'Workshop',count:30,revenue:1500},{type:'All Access',count:26,revenue:3900}],demographicData:{gender:[{group:'Male',percentage:62},{group:'Female',percentage:35},{group:'Non-binary',percentage:3}],age:[{group:'18-24',percentage:15},{group:'25-34',percentage:45},{group:'35-44',percentage:25},{group:'45-54',percentage:10},{group:'55+',percentage:5}],location:[{group:'Local',percentage:55},{group:'Regional',percentage:30},{group:'National',percentage:12},{group:'International',percentage:3}]}};setEventData(mockEventData);setAnalyticsData(mockAnalyticsData);setLoading(false);},1500);},[eventId]);const ticketColumns=[{title:'Ticket Type',dataIndex:'type',key:'type'},{title:'Quantity Sold',dataIndex:'count',key:'count',sorter:(a,b)=>a.count-b.count},{title:'Revenue ($)',dataIndex:'revenue',key:'revenue',sorter:(a,b)=>a.revenue-b.revenue,render:text=>`$${text.toLocaleString()}`},{title:'Percentage',key:'percentage',render:(_,record)=>{const total=analyticsData.ticketSalesByType.reduce((acc,curr)=>acc+curr.count,0);const percentage=(record.count/total*100).toFixed(1);return`${percentage}%`;}}];if(loading){return/*#__PURE__*/_jsx(Content,{style:{padding:'24px',textAlign:'center'},children:/*#__PURE__*/_jsx(Spin,{size:\"large\"})});}return/*#__PURE__*/_jsxs(Content,{style:{padding:'24px',maxWidth:'1200px',margin:'0 auto'},children:[/*#__PURE__*/_jsxs(Title,{level:2,children:[\"Event Analytics: \",eventData.title]}),/*#__PURE__*/_jsxs(Text,{type:\"secondary\",style:{marginBottom:'24px',display:'block'},children:[eventData.date,\" \\u2022 \",eventData.location,\" \\u2022 Organized by \",eventData.organizer]}),/*#__PURE__*/_jsxs(Row,{gutter:[16,16],children:[/*#__PURE__*/_jsx(Col,{xs:24,sm:12,md:6,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Statistic,{title:\"Total Registrations\",value:analyticsData.totalRegistrations,prefix:/*#__PURE__*/_jsx(TeamOutlined,{})})})}),/*#__PURE__*/_jsx(Col,{xs:24,sm:12,md:6,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Statistic,{title:\"Total Attendees\",value:analyticsData.totalAttendees,prefix:/*#__PURE__*/_jsx(UserOutlined,{}),suffix:`(${Math.round(analyticsData.totalAttendees/analyticsData.totalRegistrations*100)}%)`})})}),/*#__PURE__*/_jsx(Col,{xs:24,sm:12,md:6,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Statistic,{title:\"Total Revenue\",value:analyticsData.totalRevenue,prefix:/*#__PURE__*/_jsx(DollarOutlined,{}),precision:2,formatter:value=>`$${value.toLocaleString()}`})})}),/*#__PURE__*/_jsx(Col,{xs:24,sm:12,md:6,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Statistic,{title:\"Average Rating\",value:analyticsData.averageRating,prefix:/*#__PURE__*/_jsx(RiseOutlined,{}),suffix:\"/5\"})})})]}),/*#__PURE__*/_jsx(Card,{style:{marginTop:'24px'},children:/*#__PURE__*/_jsxs(Tabs,{defaultActiveKey:\"tickets\",children:[/*#__PURE__*/_jsx(TabPane,{tab:/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(BarChartOutlined,{}),\" Ticket Sales\"]}),children:/*#__PURE__*/_jsx(Table,{dataSource:analyticsData.ticketSalesByType,columns:ticketColumns,rowKey:\"type\",pagination:false})},\"tickets\"),/*#__PURE__*/_jsx(TabPane,{tab:/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(PieChartOutlined,{}),\" Demographics\"]}),children:/*#__PURE__*/_jsxs(Row,{gutter:[16,16],children:[/*#__PURE__*/_jsx(Col,{xs:24,md:8,children:/*#__PURE__*/_jsx(Card,{title:\"Gender Distribution\",children:analyticsData.demographicData.gender.map(item=>/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'16px'},children:[/*#__PURE__*/_jsx(Text,{children:item.group}),/*#__PURE__*/_jsx(Progress,{percent:item.percentage,status:\"active\",strokeColor:item.group==='Male'?'#1890ff':item.group==='Female'?'#eb2f96':'#52c41a'})]},item.group))})}),/*#__PURE__*/_jsx(Col,{xs:24,md:8,children:/*#__PURE__*/_jsx(Card,{title:\"Age Distribution\",children:analyticsData.demographicData.age.map(item=>/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'16px'},children:[/*#__PURE__*/_jsx(Text,{children:item.group}),/*#__PURE__*/_jsx(Progress,{percent:item.percentage,status:\"active\",strokeColor:\"#1890ff\"})]},item.group))})}),/*#__PURE__*/_jsx(Col,{xs:24,md:8,children:/*#__PURE__*/_jsx(Card,{title:\"Location Distribution\",children:analyticsData.demographicData.location.map(item=>/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'16px'},children:[/*#__PURE__*/_jsx(Text,{children:item.group}),/*#__PURE__*/_jsx(Progress,{percent:item.percentage,status:\"active\",strokeColor:\"#52c41a\"})]},item.group))})})]})},\"demographics\"),/*#__PURE__*/_jsx(TabPane,{tab:/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(LineChartOutlined,{}),\" Trends\"]}),children:/*#__PURE__*/_jsx(Row,{gutter:[16,16],children:/*#__PURE__*/_jsx(Col,{xs:24,children:/*#__PURE__*/_jsx(Card,{title:\"Registration Trends\",children:/*#__PURE__*/_jsx(Text,{children:\"Chart visualization would be displayed here\"})})})})},\"trends\")]})})]});};export default EventAnalytics;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}