{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Row,Col,Card,Typography,Form,Input,Select,Button,DatePicker,TimePicker,Upload,Switch,Slider,InputNumber,Checkbox,Radio,Space,Divider,Alert,Steps,Tag,AutoComplete,Tooltip}from'antd';import{PlusOutlined,SaveOutlined,EyeOutlined,UploadOutlined,CalendarOutlined,EnvironmentOutlined,DollarOutlined,UserOutlined,InfoCircleOutlined,CheckCircleOutlined,EditOutlined,SettingOutlined}from'@ant-design/icons';import{useNavigate}from'react-router-dom';import{useAuth}from'../../contexts/AuthContext';import{useNotification}from'../../contexts/NotificationContext';import moment from'moment';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const{Title,Text,Paragraph}=Typography;const{Option}=Select;const{TextArea}=Input;const{Step}=Steps;const EventCreationScreen=()=>{const[currentStep,setCurrentStep]=useState(0);const[form]=Form.useForm();const[loading,setLoading]=useState(false);const[previewMode,setPreviewMode]=useState(false);const[eventData,setEventData]=useState({});const[imageList,setImageList]=useState([]);const[locationSuggestions,setLocationSuggestions]=useState([]);const{user}=useAuth();const{showSuccess,showError}=useNotification();const navigate=useNavigate();const categories=['corporate','wedding','birthday','conference','workshop','party','concert','sports','charity','networking','educational','cultural','religious','other'];const eventTypes=['public','private','invitation-only'];const pricingTypes=['free','paid','donation'];useEffect(()=>{// Load saved draft if exists\nconst savedDraft=localStorage.getItem('eventDraft');if(savedDraft){const draft=JSON.parse(savedDraft);form.setFieldsValue(draft);setEventData(draft);}},[form]);const handleStepChange=step=>{if(step<currentStep){setCurrentStep(step);}else{form.validateFields().then(()=>{setCurrentStep(step);saveDraft();}).catch(()=>{showError('Please fill in all required fields before proceeding');});}};const saveDraft=()=>{const values=form.getFieldsValue();localStorage.setItem('eventDraft',JSON.stringify(values));setEventData(values);};const handleLocationSearch=value=>{if(value){// Simulate location API search\nconst suggestions=[`${value}, New York, NY`,`${value}, Los Angeles, CA`,`${value}, Chicago, IL`,`${value}, Houston, TX`,`${value}, Phoenix, AZ`];setLocationSuggestions(suggestions);}};const handleImageUpload=_ref=>{let{fileList}=_ref;setImageList(fileList);};const onFinish=async values=>{try{setLoading(true);// Simulate API call\nsetTimeout(()=>{showSuccess('Event created successfully!');localStorage.removeItem('eventDraft');navigate('/events');},2000);}catch(error){showError('Failed to create event');setLoading(false);}};const validateStep=step=>{const requiredFields={0:['title','description','category'],1:['date','time','location'],2:['pricingType'],3:['maxAttendees']};return form.validateFields(requiredFields[step]||[]);};const renderBasicInfo=()=>/*#__PURE__*/_jsx(Card,{title:\"Basic Event Information\",style:{marginBottom:16},children:/*#__PURE__*/_jsxs(Row,{gutter:[16,16],children:[/*#__PURE__*/_jsx(Col,{span:24,children:/*#__PURE__*/_jsx(Form.Item,{name:\"title\",label:\"Event Title\",rules:[{required:true,message:'Please enter event title'}],children:/*#__PURE__*/_jsx(Input,{placeholder:\"Enter a catchy title for your event\",size:\"large\"})})}),/*#__PURE__*/_jsx(Col,{span:24,children:/*#__PURE__*/_jsx(Form.Item,{name:\"description\",label:\"Event Description\",rules:[{required:true,message:'Please enter event description'}],children:/*#__PURE__*/_jsx(TextArea,{rows:4,placeholder:\"Describe your event in detail...\",showCount:true,maxLength:1000})})}),/*#__PURE__*/_jsx(Col,{xs:24,md:12,children:/*#__PURE__*/_jsx(Form.Item,{name:\"category\",label:\"Category\",rules:[{required:true,message:'Please select a category'}],children:/*#__PURE__*/_jsx(Select,{placeholder:\"Select event category\",size:\"large\",children:categories.map(category=>/*#__PURE__*/_jsx(Option,{value:category,children:category.charAt(0).toUpperCase()+category.slice(1)},category))})})}),/*#__PURE__*/_jsx(Col,{xs:24,md:12,children:/*#__PURE__*/_jsx(Form.Item,{name:\"eventType\",label:\"Event Type\",initialValue:\"public\",children:/*#__PURE__*/_jsxs(Radio.Group,{children:[/*#__PURE__*/_jsx(Radio,{value:\"public\",children:\"Public\"}),/*#__PURE__*/_jsx(Radio,{value:\"private\",children:\"Private\"}),/*#__PURE__*/_jsx(Radio,{value:\"invitation-only\",children:\"Invitation Only\"})]})})}),/*#__PURE__*/_jsx(Col,{span:24,children:/*#__PURE__*/_jsx(Form.Item,{name:\"tags\",label:\"Tags\",extra:\"Enter relevant tags to help people find your event\",children:/*#__PURE__*/_jsx(Select,{mode:\"tags\",placeholder:\"Add tags (e.g., networking, tech, fun)\",style:{width:'100%'}})})}),/*#__PURE__*/_jsx(Col,{span:24,children:/*#__PURE__*/_jsx(Form.Item,{name:\"images\",label:\"Event Images\",extra:\"Upload images to make your event more attractive\",children:/*#__PURE__*/_jsx(Upload,{listType:\"picture-card\",fileList:imageList,onChange:handleImageUpload,beforeUpload:()=>false,multiple:true,children:imageList.length>=5?null:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(PlusOutlined,{}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:8},children:\"Upload\"})]})})})})]})});const renderDateLocation=()=>/*#__PURE__*/_jsx(Card,{title:\"Date, Time & Location\",style:{marginBottom:16},children:/*#__PURE__*/_jsxs(Row,{gutter:[16,16],children:[/*#__PURE__*/_jsx(Col,{xs:24,md:12,children:/*#__PURE__*/_jsx(Form.Item,{name:\"date\",label:\"Event Date\",rules:[{required:true,message:'Please select event date'}],children:/*#__PURE__*/_jsx(DatePicker,{style:{width:'100%'},size:\"large\",disabledDate:current=>current&&current<moment().startOf('day')})})}),/*#__PURE__*/_jsx(Col,{xs:24,md:12,children:/*#__PURE__*/_jsx(Form.Item,{name:\"time\",label:\"Start Time\",rules:[{required:true,message:'Please select start time'}],children:/*#__PURE__*/_jsx(TimePicker,{style:{width:'100%'},size:\"large\",format:\"HH:mm\"})})}),/*#__PURE__*/_jsx(Col,{xs:24,md:12,children:/*#__PURE__*/_jsx(Form.Item,{name:\"endTime\",label:\"End Time (Optional)\",children:/*#__PURE__*/_jsx(TimePicker,{style:{width:'100%'},size:\"large\",format:\"HH:mm\"})})}),/*#__PURE__*/_jsx(Col,{xs:24,md:12,children:/*#__PURE__*/_jsx(Form.Item,{name:\"duration\",label:\"Duration (Hours)\",children:/*#__PURE__*/_jsx(InputNumber,{style:{width:'100%'},size:\"large\",min:0.5,max:24,step:0.5,placeholder:\"e.g., 2.5\"})})}),/*#__PURE__*/_jsx(Col,{span:24,children:/*#__PURE__*/_jsx(Form.Item,{name:\"location\",label:\"Event Location\",rules:[{required:true,message:'Please enter event location'}],children:/*#__PURE__*/_jsx(AutoComplete,{options:locationSuggestions.map(location=>({value:location})),onSearch:handleLocationSearch,placeholder:\"Enter venue address or search location\",size:\"large\"})})}),/*#__PURE__*/_jsx(Col,{span:24,children:/*#__PURE__*/_jsx(Form.Item,{name:\"venueDetails\",label:\"Venue Details (Optional)\",children:/*#__PURE__*/_jsx(TextArea,{rows:2,placeholder:\"Additional venue information, parking details, etc.\"})})}),/*#__PURE__*/_jsx(Col,{span:24,children:/*#__PURE__*/_jsx(Form.Item,{name:\"isOnline\",valuePropName:\"checked\",children:/*#__PURE__*/_jsx(Checkbox,{children:\"This is an online event\"})})})]})});const renderPricing=()=>/*#__PURE__*/_jsx(Card,{title:\"Pricing & Tickets\",style:{marginBottom:16},children:/*#__PURE__*/_jsxs(Row,{gutter:[16,16],children:[/*#__PURE__*/_jsx(Col,{span:24,children:/*#__PURE__*/_jsx(Form.Item,{name:\"pricingType\",label:\"Pricing Type\",rules:[{required:true,message:'Please select pricing type'}],children:/*#__PURE__*/_jsxs(Radio.Group,{children:[/*#__PURE__*/_jsx(Radio,{value:\"free\",children:\"Free Event\"}),/*#__PURE__*/_jsx(Radio,{value:\"paid\",children:\"Paid Event\"}),/*#__PURE__*/_jsx(Radio,{value:\"donation\",children:\"Donation Based\"})]})})}),/*#__PURE__*/_jsx(Form.Item,{dependencies:['pricingType'],noStyle:true,children:_ref2=>{let{getFieldValue}=_ref2;const pricingType=getFieldValue('pricingType');if(pricingType==='paid'){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Col,{xs:24,md:12,children:/*#__PURE__*/_jsx(Form.Item,{name:\"ticketPrice\",label:\"Ticket Price ($)\",rules:[{required:true,message:'Please enter ticket price'}],children:/*#__PURE__*/_jsx(InputNumber,{style:{width:'100%'},size:\"large\",min:0,step:0.01,precision:2,placeholder:\"0.00\"})})}),/*#__PURE__*/_jsx(Col,{xs:24,md:12,children:/*#__PURE__*/_jsx(Form.Item,{name:\"earlyBirdPrice\",label:\"Early Bird Price ($) - Optional\",children:/*#__PURE__*/_jsx(InputNumber,{style:{width:'100%'},size:\"large\",min:0,step:0.01,precision:2,placeholder:\"0.00\"})})}),/*#__PURE__*/_jsx(Col,{span:24,children:/*#__PURE__*/_jsx(Form.Item,{name:\"earlyBirdDeadline\",label:\"Early Bird Deadline\",children:/*#__PURE__*/_jsx(DatePicker,{style:{width:'100%'},size:\"large\"})})})]});}if(pricingType==='donation'){return/*#__PURE__*/_jsx(Col,{span:24,children:/*#__PURE__*/_jsx(Form.Item,{name:\"suggestedDonation\",label:\"Suggested Donation Amount ($)\",children:/*#__PURE__*/_jsx(InputNumber,{style:{width:'100%'},size:\"large\",min:0,step:0.01,precision:2,placeholder:\"0.00\"})})});}return null;}}),/*#__PURE__*/_jsx(Col,{span:24,children:/*#__PURE__*/_jsx(Form.Item,{name:\"refundPolicy\",label:\"Refund Policy\",children:/*#__PURE__*/_jsxs(Select,{placeholder:\"Select refund policy\",size:\"large\",children:[/*#__PURE__*/_jsx(Option,{value:\"full\",children:\"Full refund up to 24 hours before\"}),/*#__PURE__*/_jsx(Option,{value:\"partial\",children:\"Partial refund with fees\"}),/*#__PURE__*/_jsx(Option,{value:\"none\",children:\"No refunds\"}),/*#__PURE__*/_jsx(Option,{value:\"custom\",children:\"Custom policy\"})]})})})]})});const renderAdditionalSettings=()=>/*#__PURE__*/_jsx(Card,{title:\"Additional Settings\",style:{marginBottom:16},children:/*#__PURE__*/_jsxs(Row,{gutter:[16,16],children:[/*#__PURE__*/_jsx(Col,{xs:24,md:12,children:/*#__PURE__*/_jsx(Form.Item,{name:\"maxAttendees\",label:\"Maximum Attendees\",rules:[{required:true,message:'Please set maximum attendees'}],children:/*#__PURE__*/_jsx(InputNumber,{style:{width:'100%'},size:\"large\",min:1,max:10000,placeholder:\"e.g., 100\"})})}),/*#__PURE__*/_jsx(Col,{xs:24,md:12,children:/*#__PURE__*/_jsx(Form.Item,{name:\"minAttendees\",label:\"Minimum Attendees (Optional)\",children:/*#__PURE__*/_jsx(InputNumber,{style:{width:'100%'},size:\"large\",min:1,placeholder:\"e.g., 10\"})})}),/*#__PURE__*/_jsx(Col,{span:24,children:/*#__PURE__*/_jsx(Form.Item,{name:\"registrationDeadline\",label:\"Registration Deadline\",children:/*#__PURE__*/_jsx(DatePicker,{style:{width:'100%'},size:\"large\",showTime:true})})}),/*#__PURE__*/_jsx(Col,{span:24,children:/*#__PURE__*/_jsx(Form.Item,{name:\"requiresApproval\",valuePropName:\"checked\",children:/*#__PURE__*/_jsx(Checkbox,{children:\"Require manual approval for registrations\"})})}),/*#__PURE__*/_jsx(Col,{span:24,children:/*#__PURE__*/_jsx(Form.Item,{name:\"allowWaitlist\",valuePropName:\"checked\",children:/*#__PURE__*/_jsx(Checkbox,{children:\"Allow waitlist when event is full\"})})}),/*#__PURE__*/_jsx(Col,{span:24,children:/*#__PURE__*/_jsx(Form.Item,{name:\"sendReminders\",valuePropName:\"checked\",initialValue:true,children:/*#__PURE__*/_jsx(Checkbox,{children:\"Send email reminders to attendees\"})})}),/*#__PURE__*/_jsx(Col,{span:24,children:/*#__PURE__*/_jsx(Form.Item,{name:\"specialRequirements\",label:\"Special Requirements or Instructions\",children:/*#__PURE__*/_jsx(TextArea,{rows:3,placeholder:\"Any special requirements, dress code, what to bring, etc.\"})})}),/*#__PURE__*/_jsx(Col,{span:24,children:/*#__PURE__*/_jsx(Form.Item,{name:\"contactInfo\",label:\"Contact Information\",children:/*#__PURE__*/_jsx(TextArea,{rows:2,placeholder:\"Contact details for attendee inquiries\"})})})]})});const renderPreview=()=>/*#__PURE__*/_jsx(Card,{title:\"Event Preview\",style:{marginBottom:16},children:/*#__PURE__*/_jsxs(\"div\",{style:{padding:16,background:'#fafafa',borderRadius:8},children:[/*#__PURE__*/_jsx(Title,{level:3,children:eventData.title||'Event Title'}),/*#__PURE__*/_jsx(Paragraph,{children:eventData.description||'Event description will appear here...'}),/*#__PURE__*/_jsx(Row,{gutter:[16,16],style:{marginTop:16},children:/*#__PURE__*/_jsx(Col,{span:24,children:/*#__PURE__*/_jsxs(Space,{direction:\"vertical\",size:8,children:[/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(CalendarOutlined,{}),/*#__PURE__*/_jsxs(Text,{children:[eventData.date?moment(eventData.date).format('MMMM Do, YYYY'):'Date not set',eventData.time&&` at ${moment(eventData.time).format('HH:mm')}`]})]}),/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(EnvironmentOutlined,{}),/*#__PURE__*/_jsx(Text,{children:eventData.location||'Location not set'})]}),/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(UserOutlined,{}),/*#__PURE__*/_jsxs(Text,{children:[\"Max \",eventData.maxAttendees||'unlimited',\" attendees\"]})]}),/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(DollarOutlined,{}),/*#__PURE__*/_jsxs(Text,{children:[eventData.pricingType==='free'&&'Free Event',eventData.pricingType==='paid'&&`$${eventData.ticketPrice||'0'}`,eventData.pricingType==='donation'&&'Donation Based']})]})]})})}),eventData.tags&&eventData.tags.length>0&&/*#__PURE__*/_jsx(\"div\",{style:{marginTop:16},children:eventData.tags.map(tag=>/*#__PURE__*/_jsx(Tag,{style:{marginBottom:4},children:tag},tag))})]})});const steps=[{title:'Basic Info',content:renderBasicInfo,icon:/*#__PURE__*/_jsx(EditOutlined,{})},{title:'Date & Location',content:renderDateLocation,icon:/*#__PURE__*/_jsx(CalendarOutlined,{})},{title:'Pricing',content:renderPricing,icon:/*#__PURE__*/_jsx(DollarOutlined,{})},{title:'Settings',content:renderAdditionalSettings,icon:/*#__PURE__*/_jsx(SettingOutlined,{})},{title:'Preview',content:renderPreview,icon:/*#__PURE__*/_jsx(EyeOutlined,{})}];return/*#__PURE__*/_jsx(\"div\",{style:{padding:24,background:'#f5f5f5',minHeight:'100vh'},children:/*#__PURE__*/_jsx(Row,{justify:\"center\",children:/*#__PURE__*/_jsxs(Col,{xs:24,lg:20,xl:16,children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:24},children:[/*#__PURE__*/_jsx(Title,{level:2,children:\"Create New Event\"}),/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:\"Create an amazing event and connect with your community\"})]}),/*#__PURE__*/_jsx(Card,{style:{marginBottom:24},children:/*#__PURE__*/_jsx(Steps,{current:currentStep,onChange:handleStepChange,type:\"navigation\",size:\"small\",children:steps.map((step,index)=>/*#__PURE__*/_jsx(Step,{title:step.title,icon:step.icon},index))})}),/*#__PURE__*/_jsxs(Form,{form:form,layout:\"vertical\",onFinish:onFinish,onValuesChange:saveDraft,size:\"large\",children:[steps[currentStep].content(),/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(Row,{justify:\"space-between\",children:[/*#__PURE__*/_jsx(Col,{children:currentStep>0&&/*#__PURE__*/_jsx(Button,{size:\"large\",onClick:()=>setCurrentStep(currentStep-1),children:\"Previous\"})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Button,{type:\"default\",size:\"large\",onClick:()=>navigate('/events'),children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{type:\"default\",size:\"large\",icon:/*#__PURE__*/_jsx(SaveOutlined,{}),onClick:saveDraft,children:\"Save Draft\"}),currentStep<steps.length-1?/*#__PURE__*/_jsx(Button,{type:\"primary\",size:\"large\",onClick:()=>{validateStep(currentStep).then(()=>{setCurrentStep(currentStep+1);}).catch(()=>{showError('Please fill in all required fields');});},children:\"Next\"}):/*#__PURE__*/_jsx(Button,{type:\"primary\",size:\"large\",htmlType:\"submit\",loading:loading,icon:/*#__PURE__*/_jsx(CheckCircleOutlined,{}),children:\"Create Event\"})]})})]})})]})]})})});};export default EventCreationScreen;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}