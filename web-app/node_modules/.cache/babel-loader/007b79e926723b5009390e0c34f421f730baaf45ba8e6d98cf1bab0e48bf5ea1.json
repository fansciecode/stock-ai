{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Row,Col,Card,Typography,Button,Space,Avatar,Form,Input,Upload,Switch,Tabs,List,Tag,Rate,Statistic,Badge,Alert,Skeleton,Divider}from'antd';import{UserOutlined,EditOutlined,CameraOutlined,MailOutlined,PhoneOutlined,EnvironmentOutlined,CalendarOutlined,StarOutlined,HeartOutlined,TrophyOutlined,SettingOutlined,SafetyCertificateOutlined,TeamOutlined,PlusOutlined,CheckCircleOutlined}from'@ant-design/icons';import{useNavigate}from'react-router-dom';import{useAuth}from'../../contexts/AuthContext';import{useNotification}from'../../contexts/NotificationContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const{Title,Text,Paragraph}=Typography;const{TextArea}=Input;const{TabPane}=Tabs;const UserProfileScreen=()=>{const[loading,setLoading]=useState(true);const[editing,setEditing]=useState(false);const[form]=Form.useForm();const[profileData,setProfileData]=useState(null);const[activeTab,setActiveTab]=useState('overview');const[imageList,setImageList]=useState([]);const{user,updateProfile}=useAuth();const{showSuccess,showError}=useNotification();const navigate=useNavigate();useEffect(()=>{fetchProfileData();},[]);const fetchProfileData=async()=>{try{setLoading(true);// Simulate API call\nsetTimeout(()=>{var _user$displayName,_user$displayName2;const mockProfile={id:(user===null||user===void 0?void 0:user.uid)||'1',firstName:(user===null||user===void 0?void 0:(_user$displayName=user.displayName)===null||_user$displayName===void 0?void 0:_user$displayName.split(' ')[0])||'John',lastName:(user===null||user===void 0?void 0:(_user$displayName2=user.displayName)===null||_user$displayName2===void 0?void 0:_user$displayName2.split(' ')[1])||'Doe',email:(user===null||user===void 0?void 0:user.email)||'john.doe@example.com',phone:'+1 (555) 123-4567',location:'San Francisco, CA',bio:'Event enthusiast and community builder passionate about creating memorable experiences.',profilePicture:(user===null||user===void 0?void 0:user.photoURL)||'/api/placeholder/120/120',joinDate:'2023-01-15',verified:true,rating:4.7,totalReviews:89,eventsOrganized:12,eventsAttended:45,followers:156,following:78,wishlistCount:23,achievements:[{id:1,title:'Event Master',description:'Organized 10+ events',earned:true},{id:2,title:'Community Builder',description:'50+ attendees',earned:true},{id:3,title:'Rising Star',description:'Top rated organizer',earned:false}],recentEvents:[{id:'1',title:'Tech Innovation Summit',date:'2024-03-15',type:'organized',status:'completed',rating:4.8,attendees:150},{id:'2',title:'Design Workshop',date:'2024-02-28',type:'attended',status:'completed',rating:4.6}]};setProfileData(mockProfile);form.setFieldsValue(mockProfile);setLoading(false);},1000);}catch(error){showError('Failed to load profile data');setLoading(false);}};const handleSaveProfile=async values=>{try{setLoading(true);// Simulate API call\nsetTimeout(()=>{setProfileData({...profileData,...values});setEditing(false);showSuccess('Profile updated successfully');setLoading(false);},1500);}catch(error){showError('Failed to update profile');setLoading(false);}};const handleImageUpload=_ref=>{let{fileList}=_ref;setImageList(fileList);};const formatDate=date=>{return new Date(date).toLocaleDateString('en-US',{year:'numeric',month:'long',day:'numeric'});};const getEventTypeColor=type=>{switch(type){case'organized':return'blue';case'attended':return'green';default:return'default';}};const renderOverviewTab=()=>/*#__PURE__*/_jsxs(Space,{direction:\"vertical\",style:{width:'100%'},size:\"large\",children:[/*#__PURE__*/_jsxs(Row,{gutter:[16,16],children:[/*#__PURE__*/_jsx(Col,{xs:12,sm:6,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Statistic,{title:\"Events\",value:profileData===null||profileData===void 0?void 0:profileData.eventsOrganized,prefix:/*#__PURE__*/_jsx(CalendarOutlined,{}),valueStyle:{color:'#3f8600'}})})}),/*#__PURE__*/_jsx(Col,{xs:12,sm:6,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Statistic,{title:\"Attended\",value:profileData===null||profileData===void 0?void 0:profileData.eventsAttended,prefix:/*#__PURE__*/_jsx(UserOutlined,{}),valueStyle:{color:'#1890ff'}})})}),/*#__PURE__*/_jsx(Col,{xs:12,sm:6,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Statistic,{title:\"Followers\",value:profileData===null||profileData===void 0?void 0:profileData.followers,prefix:/*#__PURE__*/_jsx(TeamOutlined,{}),valueStyle:{color:'#722ed1'}})})}),/*#__PURE__*/_jsx(Col,{xs:12,sm:6,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Statistic,{title:\"Rating\",value:profileData===null||profileData===void 0?void 0:profileData.rating,precision:1,prefix:/*#__PURE__*/_jsx(StarOutlined,{}),valueStyle:{color:'#faad14'}})})})]}),/*#__PURE__*/_jsxs(Card,{title:\"About\",children:[/*#__PURE__*/_jsx(Paragraph,{children:profileData===null||profileData===void 0?void 0:profileData.bio}),/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsxs(Text,{type:\"secondary\",children:[/*#__PURE__*/_jsx(EnvironmentOutlined,{}),\" \",profileData===null||profileData===void 0?void 0:profileData.location]}),/*#__PURE__*/_jsxs(Text,{type:\"secondary\",children:[/*#__PURE__*/_jsx(CalendarOutlined,{}),\" Joined \",formatDate(profileData===null||profileData===void 0?void 0:profileData.joinDate)]})]})]}),/*#__PURE__*/_jsx(Card,{title:\"Recent Events\",children:/*#__PURE__*/_jsx(List,{dataSource:profileData===null||profileData===void 0?void 0:profileData.recentEvents,renderItem:event=>/*#__PURE__*/_jsx(List.Item,{actions:[/*#__PURE__*/_jsx(Button,{type:\"link\",onClick:()=>navigate(`/events/${event.id}`),children:\"View Details\"})],children:/*#__PURE__*/_jsx(List.Item.Meta,{avatar:/*#__PURE__*/_jsx(Avatar,{icon:/*#__PURE__*/_jsx(CalendarOutlined,{}),style:{backgroundColor:getEventTypeColor(event.type)==='blue'?'#1890ff':'#52c41a'}}),title:/*#__PURE__*/_jsxs(Space,{children:[event.title,/*#__PURE__*/_jsx(Tag,{color:getEventTypeColor(event.type),children:event.type})]}),description:/*#__PURE__*/_jsxs(Space,{direction:\"vertical\",size:4,children:[/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:formatDate(event.date)}),event.rating&&/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Rate,{disabled:true,defaultValue:event.rating,size:\"small\"}),/*#__PURE__*/_jsxs(Text,{type:\"secondary\",children:[\"(\",event.rating,\")\"]})]}),event.attendees&&/*#__PURE__*/_jsxs(Text,{type:\"secondary\",children:[event.attendees,\" attendees\"]})]})})})})})]});const renderEditTab=()=>/*#__PURE__*/_jsxs(Form,{form:form,layout:\"vertical\",onFinish:handleSaveProfile,size:\"large\",children:[/*#__PURE__*/_jsxs(Card,{title:\"Basic Information\",children:[/*#__PURE__*/_jsxs(Row,{gutter:16,children:[/*#__PURE__*/_jsx(Col,{xs:24,md:12,children:/*#__PURE__*/_jsx(Form.Item,{name:\"firstName\",label:\"First Name\",rules:[{required:true,message:'Please enter first name'}],children:/*#__PURE__*/_jsx(Input,{})})}),/*#__PURE__*/_jsx(Col,{xs:24,md:12,children:/*#__PURE__*/_jsx(Form.Item,{name:\"lastName\",label:\"Last Name\",rules:[{required:true,message:'Please enter last name'}],children:/*#__PURE__*/_jsx(Input,{})})})]}),/*#__PURE__*/_jsx(Form.Item,{name:\"email\",label:\"Email\",rules:[{required:true,message:'Please enter email'},{type:'email',message:'Please enter valid email'}],children:/*#__PURE__*/_jsx(Input,{prefix:/*#__PURE__*/_jsx(MailOutlined,{})})}),/*#__PURE__*/_jsx(Form.Item,{name:\"phone\",label:\"Phone Number\",children:/*#__PURE__*/_jsx(Input,{prefix:/*#__PURE__*/_jsx(PhoneOutlined,{})})}),/*#__PURE__*/_jsx(Form.Item,{name:\"location\",label:\"Location\",children:/*#__PURE__*/_jsx(Input,{prefix:/*#__PURE__*/_jsx(EnvironmentOutlined,{})})}),/*#__PURE__*/_jsx(Form.Item,{name:\"bio\",label:\"Bio\",children:/*#__PURE__*/_jsx(TextArea,{rows:4,placeholder:\"Tell us about yourself...\"})}),/*#__PURE__*/_jsx(Form.Item,{name:\"profilePicture\",label:\"Profile Picture\",children:/*#__PURE__*/_jsx(Upload,{listType:\"picture-card\",fileList:imageList,onChange:handleImageUpload,beforeUpload:()=>false,maxCount:1,children:imageList.length===0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(CameraOutlined,{}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:8},children:\"Upload\"})]})})})]}),/*#__PURE__*/_jsx(Card,{style:{marginTop:16,textAlign:'center'},children:/*#__PURE__*/_jsxs(Space,{size:\"large\",children:[/*#__PURE__*/_jsx(Button,{size:\"large\",onClick:()=>setEditing(false),children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{type:\"primary\",size:\"large\",htmlType:\"submit\",loading:loading,children:\"Save Changes\"})]})})]});if(loading&&!profileData){return/*#__PURE__*/_jsx(\"div\",{style:{padding:24},children:/*#__PURE__*/_jsx(Skeleton,{active:true,avatar:true,paragraph:{rows:6}})});}return/*#__PURE__*/_jsx(\"div\",{style:{padding:24,background:'#f5f5f5',minHeight:'100vh'},children:/*#__PURE__*/_jsx(Row,{justify:\"center\",children:/*#__PURE__*/_jsxs(Col,{xs:24,lg:18,xl:14,children:[/*#__PURE__*/_jsx(Card,{style:{marginBottom:24},children:/*#__PURE__*/_jsxs(Row,{gutter:[24,24],align:\"middle\",children:[/*#__PURE__*/_jsxs(Col,{xs:24,sm:8,style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(Badge,{count:profileData!==null&&profileData!==void 0&&profileData.verified?/*#__PURE__*/_jsx(CheckCircleOutlined,{style:{color:'#52c41a'}}):0,offset:[-10,10],children:/*#__PURE__*/_jsx(Avatar,{size:120,src:profileData===null||profileData===void 0?void 0:profileData.profilePicture,icon:/*#__PURE__*/_jsx(UserOutlined,{})})}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:16},children:[/*#__PURE__*/_jsxs(Title,{level:3,style:{margin:0},children:[profileData===null||profileData===void 0?void 0:profileData.firstName,\" \",profileData===null||profileData===void 0?void 0:profileData.lastName]}),(profileData===null||profileData===void 0?void 0:profileData.verified)&&/*#__PURE__*/_jsxs(Text,{type:\"secondary\",children:[/*#__PURE__*/_jsx(SafetyCertificateOutlined,{style:{color:'#52c41a',marginRight:4}}),\"Verified User\"]})]})]}),/*#__PURE__*/_jsx(Col,{xs:24,sm:16,children:/*#__PURE__*/_jsxs(Space,{direction:\"vertical\",style:{width:'100%'},size:\"middle\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Rate,{disabled:true,defaultValue:profileData===null||profileData===void 0?void 0:profileData.rating}),/*#__PURE__*/_jsx(Text,{strong:true,children:profileData===null||profileData===void 0?void 0:profileData.rating}),/*#__PURE__*/_jsxs(Text,{type:\"secondary\",children:[\"(\",profileData===null||profileData===void 0?void 0:profileData.totalReviews,\" reviews)\"]})]})}),/*#__PURE__*/_jsxs(Row,{gutter:[16,8],children:[/*#__PURE__*/_jsx(Col,{span:8,children:/*#__PURE__*/_jsx(Statistic,{title:\"Events\",value:profileData===null||profileData===void 0?void 0:profileData.eventsOrganized,valueStyle:{fontSize:16}})}),/*#__PURE__*/_jsx(Col,{span:8,children:/*#__PURE__*/_jsx(Statistic,{title:\"Followers\",value:profileData===null||profileData===void 0?void 0:profileData.followers,valueStyle:{fontSize:16}})}),/*#__PURE__*/_jsx(Col,{span:8,children:/*#__PURE__*/_jsx(Statistic,{title:\"Following\",value:profileData===null||profileData===void 0?void 0:profileData.following,valueStyle:{fontSize:16}})})]}),/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Button,{type:\"primary\",icon:/*#__PURE__*/_jsx(EditOutlined,{}),onClick:()=>setActiveTab('edit'),children:\"Edit Profile\"}),/*#__PURE__*/_jsx(Button,{icon:/*#__PURE__*/_jsx(SettingOutlined,{}),onClick:()=>navigate('/settings'),children:\"Settings\"}),/*#__PURE__*/_jsxs(Button,{icon:/*#__PURE__*/_jsx(HeartOutlined,{}),onClick:()=>navigate('/wishlist'),children:[\"Wishlist (\",profileData===null||profileData===void 0?void 0:profileData.wishlistCount,\")\"]})]})]})})]})}),/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(Tabs,{activeKey:activeTab,onChange:setActiveTab,children:[/*#__PURE__*/_jsx(TabPane,{tab:\"Overview\",children:renderOverviewTab()},\"overview\"),/*#__PURE__*/_jsx(TabPane,{tab:\"Edit Profile\",children:renderEditTab()},\"edit\")]})})]})})});};export default UserProfileScreen;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}