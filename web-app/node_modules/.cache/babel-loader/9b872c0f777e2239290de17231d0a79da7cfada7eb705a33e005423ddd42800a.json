{"ast":null,"code":"/**\n * Event Service\n * \n * This service handles all event-related API calls and data management.\n * It's designed to match the functionality of the Android and iOS event services.\n */class EventService{constructor(){this.apiBaseUrl=process.env.REACT_APP_API_URL||'/api';this.eventsEndpoint=`${this.apiBaseUrl}/events`;}/**\n   * Get all events\n   * @returns {Promise<Array>} - Array of events\n   */async getEvents(){try{// In a real app, this would be an API call\n// For now, we'll return mock data\nreturn this.generateMockEvents();}catch(error){console.error('Error fetching events:',error);throw error;}}/**\n   * Get event details by ID\n   * @param {string} eventId - Event ID\n   * @returns {Promise<Object>} - Event details\n   */async getEventDetails(eventId){try{// In a real app, this would be an API call\n// For now, we'll return mock data\nconst events=this.generateMockEvents();const event=events.find(event=>event.id===eventId);if(!event){throw new Error('Event not found');}return event;}catch(error){console.error(`Error fetching event ${eventId}:`,error);throw error;}}/**\n   * Create a new event\n   * @param {Object} eventData - Event data\n   * @returns {Promise<Object>} - Created event\n   */async createEvent(eventData){try{// In a real app, this would be an API call\n// For now, we'll simulate creating an event\nconst newEvent={id:Math.random().toString(36).substring(2,15),title:eventData.title,description:eventData.description,imageUrl:eventData.imageUrl||'https://picsum.photos/800/400?random=new',startDate:eventData.startDate||new Date(),endDate:eventData.endDate||new Date(Date.now()+86400000),// Tomorrow\nlocation:{address:eventData.address,coordinates:[eventData.longitude,eventData.latitude]},category:{id:eventData.categoryId,name:\"Category\",icon:\"star\"},createdAt:new Date(),updatedAt:new Date()};return newEvent;}catch(error){console.error('Error creating event:',error);throw error;}}/**\n   * Update an existing event\n   * @param {string} eventId - Event ID\n   * @param {Object} eventData - Updated event data\n   * @returns {Promise<Object>} - Updated event\n   */async updateEvent(eventId,eventData){try{// In a real app, this would be an API call\n// For now, we'll simulate updating an event\nconst events=this.generateMockEvents();const eventIndex=events.findIndex(event=>event.id===eventId);if(eventIndex===-1){throw new Error('Event not found');}const updatedEvent={...events[eventIndex],...eventData,location:{address:eventData.address||events[eventIndex].location.address,coordinates:[eventData.longitude||events[eventIndex].location.coordinates[0],eventData.latitude||events[eventIndex].location.coordinates[1]]},updatedAt:new Date()};return updatedEvent;}catch(error){console.error(`Error updating event ${eventId}:`,error);throw error;}}/**\n   * Delete an event\n   * @param {string} eventId - Event ID\n   * @returns {Promise<boolean>} - Success status\n   */async deleteEvent(eventId){try{// In a real app, this would be an API call\n// For now, we'll simulate deleting an event\nreturn true;}catch(error){console.error(`Error deleting event ${eventId}:`,error);throw error;}}/**\n   * Search events by query\n   * @param {string} query - Search query\n   * @returns {Promise<Array>} - Filtered events\n   */async searchEvents(query){try{// In a real app, this would be an API call\n// For now, we'll filter mock data\nconst events=this.generateMockEvents();const searchQuery=query.toLowerCase();return events.filter(event=>event.title.toLowerCase().includes(searchQuery)||event.description.toLowerCase().includes(searchQuery)||event.location.address&&event.location.address.toLowerCase().includes(searchQuery));}catch(error){console.error('Error searching events:',error);throw error;}}/**\n   * Get events by category\n   * @param {string} categoryId - Category ID\n   * @returns {Promise<Array>} - Filtered events\n   */async getEventsByCategory(categoryId){try{// In a real app, this would be an API call\n// For now, we'll filter mock data\nconst events=this.generateMockEvents();return events.filter(event=>event.category&&event.category.id===categoryId);}catch(error){console.error(`Error fetching events for category ${categoryId}:`,error);throw error;}}/**\n   * Generate mock events for development\n   * @returns {Array} - Array of mock events\n   */generateMockEvents(){const categories=[{id:\"1\",name:\"Music\",icon:\"music\"},{id:\"2\",name:\"Sports\",icon:\"football-ball\"},{id:\"3\",name:\"Food\",icon:\"utensils\"},{id:\"4\",name:\"Art\",icon:\"palette\"},{id:\"5\",name:\"Technology\",icon:\"laptop-code\"},{id:\"6\",name:\"Business\",icon:\"briefcase\"}];return[{id:\"1\",title:\"Summer Music Festival\",description:\"Join us for an amazing experience with great music and food!\",imageUrl:\"https://picsum.photos/800/400?random=1\",startDate:new Date(Date.now()+86400000),// Tomorrow\nendDate:new Date(Date.now()+172800000),// Day after tomorrow\nlocation:{address:\"Central Park, New York\",coordinates:[-73.965355,40.782865]},category:categories[0],createdAt:new Date(Date.now()-604800000),// 7 days ago\nupdatedAt:new Date(Date.now()-86400000)// 1 day ago\n},{id:\"2\",title:\"Tech Conference 2023\",description:\"Learn about the latest technologies and network with professionals.\",imageUrl:\"https://picsum.photos/800/400?random=2\",startDate:new Date(Date.now()+259200000),// 3 days from now\nendDate:new Date(Date.now()+345600000),// 4 days from now\nlocation:{address:\"Moscone Center, San Francisco\",coordinates:[-122.401557,37.783909]},category:categories[4],createdAt:new Date(Date.now()-1209600000),// 14 days ago\nupdatedAt:new Date(Date.now()-604800000)// 7 days ago\n},{id:\"3\",title:\"Food Truck Festival\",description:\"Taste delicious food from the best food trucks in the city.\",imageUrl:\"https://picsum.photos/800/400?random=3\",startDate:new Date(Date.now()+432000000),// 5 days from now\nendDate:new Date(Date.now()+518400000),// 6 days from now\nlocation:{address:\"Riverside Park, Chicago\",coordinates:[-87.637596,41.878876]},category:categories[2],createdAt:new Date(Date.now()-2592000000),// 30 days ago\nupdatedAt:new Date(Date.now()-1209600000)// 14 days ago\n},{id:\"4\",title:\"Art Gallery Opening\",description:\"Discover amazing artworks from local and international artists.\",imageUrl:\"https://picsum.photos/800/400?random=4\",startDate:new Date(Date.now()+604800000),// 7 days from now\nendDate:new Date(Date.now()+691200000),// 8 days from now\nlocation:{address:\"Downtown Gallery, Los Angeles\",coordinates:[-118.243683,34.052235]},category:categories[3],createdAt:new Date(Date.now()-3456000000),// 40 days ago\nupdatedAt:new Date(Date.now()-2592000000)// 30 days ago\n},{id:\"5\",title:\"Business Networking\",description:\"Connect with business professionals and expand your network.\",imageUrl:\"https://picsum.photos/800/400?random=5\",startDate:new Date(Date.now()+777600000),// 9 days from now\nendDate:new Date(Date.now()+864000000),// 10 days from now\nlocation:{address:\"Business District, Boston\",coordinates:[-71.060511,42.358162]},category:categories[5],createdAt:new Date(Date.now()-5184000000),// 60 days ago\nupdatedAt:new Date(Date.now()-3456000000)// 40 days ago\n},{id:\"6\",title:\"Marathon Training\",description:\"Get ready for the marathon with professional training sessions.\",imageUrl:\"https://picsum.photos/800/400?random=6\",startDate:new Date(Date.now()+950400000),// 11 days from now\nendDate:new Date(Date.now()+1036800000),// 12 days from now\nlocation:{address:\"City Stadium, Miami\",coordinates:[-80.219742,25.958045]},category:categories[1],createdAt:new Date(Date.now()-7776000000),// 90 days ago\nupdatedAt:new Date(Date.now()-5184000000)// 60 days ago\n}];}}export default EventService;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}